
<footer>
   <div class="tt-footer-default tt-color-scheme-02">
        <div class="container">
            <div class="row" style="    place-content: center;">
                <ul class="tt-social-icon">
                    <li><a class="icon-g-64" target="_blank" href="http://www.facebook.com/"></a></li>
                    <li><a class="icon-h-58" target="_blank" href="http://www.facebook.com/"></a></li>
                    <li><a class="icon-g-66" target="_blank" href="http://www.twitter.com/"></a></li>
                    <li><a class="icon-g-67" target="_blank" href="http://www.google.com/"></a></li>
                    <li><a class="icon-g-70" target="_blank" href="https://instagram.com/"></a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="tt-footer-col tt-color-scheme-01">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-lg-4 col-xl-4">
                    <div class="tt-mobile-collapse">
                        <a class="tt-logo tt-logo-alignment" href="/">
                            <img src="http://localhost:8000/assets/img/logos/logo-w.png" alt="" class="loading" data-was-processed="true">
                        </a>

                    </div>
                </div>
                <div class="col-md-6 col-lg-4 col-xl-4">
                    <div class="tt-mobile-collapse">
                        <h4 class="tt-collapse-title">
                            HAKKIMIZDA
                        </h4>
                        <div class="tt-collapse-content">
                            <p>
                                Lorem ipsum dolor sit amet conse ctetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore. Lorem ipsum dolor sit amet conse ctetur adipisicing elit, seddo eiusmod tempor incididunt ut labore etdolore.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4 col-xl-4">
                    <div class="tt-newsletter">
                        <div class="tt-mobile-collapse">
                            <h4 class="tt-collapse-title">
                                İLETİŞİM BİLGİLERİ
                            </h4>
                            <div class="tt-collapse-content">
                                <address style="color:#777777;">
                                    <p><span>Adres:</span> Mahmutbey, 6. Yol Sk. No:8,Bağcılar/İstanbul, 34218, Türkiye</p>
                                    <p><span>Telefon:</span> +777 2345 7885;  +777 2345 7886</p>
                                    <p><span>Çalışma Saatlerı:</span>PAZARTESI - CUMARTESI / 8:00 - 19:00</p>
                                    <p><span>E-mail:</span> <a href="mailto:info@takisik.com">info@takisik.com</a></p>
                                </address>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="tt-footer-custom">
        <div class="container">
            <div class="tt-row">
                <div class="tt-col-left">
                    <div class="tt-col-item">
                        <!-- copyright -->
                        <div class="tt-box-copyright">
                            © <a href="https://fikitech.com/">FikiTech Solutions</a> 2023. All Rights Reserved
                        </div>
                        <!-- /copyright -->
                    </div>
                </div>
                </div>
            </div>
    </div>
</footer>
<a href="#" class="tt-back-to-top">EN BAŞA DÖN</a>
<!-- modal (AddToCartProduct) -->
<div class="modal  fade"  id="modalAddToCartProduct" >
    <div class="modal-dialog">
        <div class="modal-content ">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="icon icon-clear"></span></button>
            </div>
            <div class="modal-body" id="add-complete-body">


            </div>
        </div>
    </div>
</div>

<!-- modal (quickViewModal) -->
<div class="modal  fade"  id="ModalquickView" tabindex="-1" role="dialog" aria-label="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content ">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="icon icon-clear"></span></button>
            </div>

            <div class="modal-body"  id="quick-view-body" >

            </div>
        </div>
    </div>
</div>

<!-- modal (ModalSubsribeGood) -->
<div class="modal  fade"  id="ModalSubsribeGood" tabindex="-1" role="dialog" aria-label="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xs">
        <div class="modal-content ">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="icon icon-clear"></span></button>
            </div>
            <div class="modal-body">
                <div class="tt-modal-subsribe-good">
                    <i class="icon-f-68"></i> You have successfully signed!
                </div>
            </div>
        </div>
    </div>
</div>

<!-- modal (DeleteItemsModal) -->
<div class="modal  fade"  id="DeleteItemsModal" tabindex="-1" role="dialog" aria-label="myModalLabel" aria-hidden="true" >
    <div class="modal-dialog">
        <div class="modal-content ">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" id="close-delete-modal"><span class="icon icon-clear"></span></button>
            </div>
            <div class="modal-body" id="delete-item-body">
                <div class="tt-modal-addtocart delete-item desctope">
                    <div class="row">
                        <div class="col-12 col-lg-12">
                            <div class="delete-item-modal-text" id="delete-item-modal-text"></div>
                            </a>
                            <div class="row">
                                <div class="col-md-6 mt-3">
                                    <a href="#" class="btn btn-border btn-close-popup" data-toggle="modal" data-target="ModalDeleteSuccess" id="delete-item">SİL</a>
                                </div>
                                <div class="col-md-6 mt-3">
                                    <a href="shopping_cart_02.html" class="btn btn-border" data-dismiss="modal">VAZGEÇ</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- modal (EmptyCartModal) -->
<div class="modal  fade"  id="EmptyCartModal" tabindex="-1" role="dialog" aria-label="myModalLabel" aria-hidden="true" >
    <div class="modal-dialog">
        <div class="modal-content ">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" id="close-empty-cart-modal"><span class="icon icon-clear"></span></button>
            </div>
            <div class="modal-body" id="empty-cart-body">
                <div class="tt-modal-addtocart empty-cart desctope">
                    <div class="row">
                        <div class="col-12 col-lg-12">
                            <div class="empty-cart-modal-text" id="empty-cart-modal-text"></div>
                            </a>
                            <div class="row">
                                <div class="col-md-6 mt-3">
                                    <a href="#" class="btn btn-border btn-close-popup" data-toggle="modal" data-target="ModalDeleteSuccess" id="empty-cart">SİL</a>
                                </div>
                                <div class="col-md-6 mt-3">
                                    <a  class="btn btn-border" data-dismiss="modal">VAZGEÇ</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- modal (NewAddressModal) -->
<div class="modal  fade"  id="NewAddressModal" tabindex="-1" role="dialog" aria-label="myModalLabel" aria-hidden="true" >
    <div class="modal-dialog modal-md">
        <div class="modal-content ">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" id="close-empty-cart-modal"><span class="icon icon-clear"></span></button>
            </div>
            <div class="modal-body" id="empty-cart-body"><div class="tt-wrapper">
                    <h6 class="tt-title">ADD A NEW ADDRESS</h6>
                    <div class="form-default">
                        <form  class="form-default needs-validation" id="new_address_form">
                            @csrf
                            <div class="row">
                                <div class="form-group">
                                    <label class="control-label">ADRES TÜRÜ *</label>
                                    <select class="form-control" id="address_type">
                                        <option>Kargo Adresi</option>
                                        <option>Fatura Adresi</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="">Ülke</label>
                                    <select id="country" name="country" class="form-control input-fields afm-grey" required>
                                        <option value="TR">Türkiye</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="">Adres</label>
                                    <input type="text" id="address_line_1" class="form-control input-fields" pattern="[a-zA-Z]{2}[a-zA-Z .,]{1,50}" placeholder="Adresinizi giriniz" required>
                                    <div class="invalid-feedback"> Zorunlu alan. Yalnizca harf, boşluk ve bazı özel karakterleri (.,) kullanabilirsiniz.</div>
                                </div>
                                <div class="form-group">
                                    <label for="">Adres 2</label>
                                    <input type="text" id="address_line_2" class="form-control input-fields" pattern="[a-zA-Z]{2}[a-zA-Z .,]{1,50}" placeholder="Adresinizi giriniz" >
                                    <div class="invalid-feedback"> Zorunlu alan. Yalnizca harf, boşluk ve bazı özel karakterleri (.,) kullanabilirsiniz.</div>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="shopInputLastName" class="control-label">LAST NAME *</label>
                                    <input type="text" class="form-control" id="shopInputLastName">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="shopInputFirstName" class="control-label">FIRST NAME *</label>
                                <input type="text" class="form-control" id="shopInputFirstName">
                            </div>
                            <div class="form-group">
                                <label for="shopInputLastName" class="control-label">LAST NAME *</label>
                                <input type="text" class="form-control" id="shopInputLastName">
                            </div>
                            <div class="form-group">
                                <label for="shopCompanyName" class="control-label">COMPANY NAME</label>
                                <input type="text" class="form-control" id="shopCompanyName">
                            </div>
                            <div class="form-group">
                                <label for="shopCompanyName" class="control-label">COUNTRY *</label>
                                <select class="form-control">
                                    <option>Country</option>
                                    <option>Country 02</option>
                                    <option>Country 03</option>
                                    <option>Country 04</option>
                                    <option>Country 05</option>
                                    <option>Country 06</option>
                                    <option>Country 07</option>
                                    <option>Country 08</option>
                                    <option>Country 09</option>
                                    <option>Country 10</option>
                                    <option>Country 11</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="shopAddress" class="control-label">ADDRESS *</label>
                                <input type="text" class="form-control" id="shopAddress">
                            </div>
                            <div class="form-group">
                                <label for="shopTown" class="control-label">TOWN / CITY *</label>
                                <input type="text" class="form-control" id="shopTown">
                            </div>
                            <div class="form-group">
                                <label for="shopState" class="control-label">STATE / COUNTY *</label>
                                <input type="text" class="form-control" id="shopState">
                            </div>
                            <div class="form-group">
                                <label for="shopPostCode" class="control-label">POSTCODE / ZIP *</label>
                                <input type="text" class="form-control" id="shopPostCode">
                            </div>
                            <div class="form-group">
                                <label for="shopPhone" class="control-label">PHONE</label>
                                <input type="text" class="form-control" id="shopPhone">
                            </div>
                            <div class="form-group">
                                <label for="shopEmail" class="control-label">EMAIL ADDRESS *</label>
                                <input type="text" class="form-control" id="shopEmail">
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="checkBox11" name="checkbox">
                                <label for="checkBox11">
                                    <span class="check"></span>
                                    <span class="box"></span>
                                    Set as deafult address?
                                </label>
                            </div>
                            <div class="row tt-offset-21">
                                <div class="col-auto">
                                    <button type="submit" class="btn">ADD  ADDRESS</button>
                                </div>
                                <div class="col-auto align-self-center">
                                    or	<a href="#" class="tt-link">Cancel</a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- modal (ModalDeleteSuccess) -->
<div class="modal  fade"  id="ModalDeleteSuccess" tabindex="-1" role="dialog" aria-label="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md modal-sm">
        <div class="modal-content ">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="icon icon-clear"></span></button>
            </div>

            <div class="modal-body" id="delete-success-body">

            </div>
        </div>
    </div>
</div>

<script src="{{ asset('assets/js/jquery/jquery.min.js') }}"></script>
<script src="{{ asset('assets/plugins/bootstrap/js/bootstrap.min.js') }}"></script>
<script src="{{ asset('assets/plugins/elevatezoom/jquery.elevatezoom.js') }}"></script>
<script src="{{ asset('assets/plugins/slick/slick.min.js') }}"></script>
<script src="{{ asset('assets/plugins/perfect-scrollbar/perfect-scrollbar.min.js') }}"></script>
<script src="{{ asset('assets/plugins/panelmenu/panelmenu.js') }}"></script>

<script src="{{ asset('assets/plugins/countdown/jquery.countdown.min.js') }}"></script>
<script src="{{ asset('assets/plugins/rs-plugin/js/jquery.themepunch.tools.min.js') }}"></script>
<script src="{{ asset('assets/plugins/rs-plugin/js/jquery.themepunch.revolution.min.js') }}"></script>
<script src="{{ asset('assets/plugins/magnific-popup/jquery.magnific-popup.min.js') }}"></script>
<script src="{{ asset('assets/js/lazyLoad/lazyload.min.js') }}"></script>
<script src="{{ asset('assets/js/main.js') }}"></script>
<!-- form validation and sending to mail -->
<script src="{{ asset('assets/js/form/jquery.form.js') }}"></script>
<script src="{{ asset('assets/js/form/jquery.validate.min.js') }}"></script>
<script src="{{ asset('assets/js/form/jquery.form-init.js') }}"></script>
<script src="{{ asset('assets/plugins/sweetalert2/sweetalert2.min.js') }}"></script>
<script src="{{ asset('assets/plugins/toastr/toastr.min.js') }}"></script>
<script src="{{ asset('assets/js/custom.js') }}"></script>
<script src="{{ asset('assets/js/fikitech.js') }}"></script>
@yield('external_js')
<script>
    function GetTag(tag_id,sub_tag_id){
        $('#products').html('');
        $('#load-more').html('');
        $('#products').append('<div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>');

        var data = '{"tag_id":"' + tag_id + '","sub_tag_id":"' + sub_tag_id + '"}';

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {

            if (this.readyState == 4 && this.status == 200) {
                let response = JSON.parse(this.responseText);
                if (response['result'] == 1) {

                    setTimeout(function () {

                        $('#products').html('');
                        $('#products').append(response['products']);

                        $( "#tag_filter" ).load(window.location.href + " #tag_filter" );
                        $('#sub_tag_filter').html('');
                        $('#sub_tag_filter').append(response['sub_tag_filter']);

                        $('#load-more').append(response['load-more']);

                    }, 500);

                }else{
                    Swal.fire(response['msg']);
                }

            } else if (this.status >= 400 && this.status < 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass("hidden");
                Swal.fire(response['msg']);
            } else if (this.status >= 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass('hidden');
                Swal.fire(response['msg']);

            }
        };
            xhttp.onerror = function onError(e) {

                alert('con error:'+e);
            }

        xhttp.open("POST", "/api/get-tag-products", true);
        xhttp.setRequestHeader("Content-Type", "application/json");
        xhttp.send(data);


    }

    function GetSubTag(tag_id,sub_tag_id){

        $('#products').html('');
        $('#load-more').html('');
        $('#products').append('<div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>');

        var data = '{"tag_id":"' + tag_id + '","sub_tag_id":"' + sub_tag_id + '"}';

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {

            if (this.readyState == 4 && this.status == 200) {

                let response = JSON.parse(this.responseText);
                if (response['result'] == 1) {

                    setTimeout(function () {
                        $('#loader').addClass('hidden');

                        $('#products').html('');
                        $('#products').append(response['products']);
                        $( "#tag_filter" ).load(window.location.href + " #tag_filter" );
                        $('#sub_tag_filter').html('');
                        $('#sub_tag_filter').append(response['sub_tag_filter']);

                        $('#load-more').append(response['load-more']);

                    }, 500);

                }else{
                    Swal.fire(response['msg']);
                }
            } else if (this.status >= 400 && this.status < 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass("hidden");
                Swal.fire(response['msg']);
            } else if (this.status >= 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass('hidden');
                Swal.fire(response['msg']);

            }
        };
        xhttp.onerror = function onError(e) {

            alert('con error:'+e);
        }

        xhttp.open("POST", "api/get-sub-tag-products", true);
        xhttp.setRequestHeader("Content-Type", "application/json");
        xhttp.send(data);
    }

    function LoadMore(tag_id,sub_tag_id,start){
        $('#loader').removeClass('hidden');

        var data = '{"tag_id":"' + tag_id + '","sub_tag_id":"' + sub_tag_id + '","start":"' + start + '"}';
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {

            if (this.readyState == 4 && this.status == 200) {
                let response = JSON.parse(this.responseText);
                if (response['result'] == 1) {

                    setTimeout(function(){
                        $('#loader').addClass("hidden");
                        $('#load-more').html('');
                        $('#load-more').append(response['load-more']);
                        $('#products').append(response['products']);
                    }, 500);



                }else{
                    $('#loader').addClass("hidden");
                    Swal.fire(response['msg']);
                }

            } else if (this.status >= 400 && this.status < 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass("hidden");
                Swal.fire(response['msg']);
            } else if (this.status >= 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass('hidden');
                Swal.fire(response['msg']);

            }
        };
        xhttp.onerror = function onError(e) {

            alert('con error:'+e);
        }

        xhttp.open("POST", "/api/load-more", true);
        xhttp.setRequestHeader("Content-Type", "application/json");
        xhttp.send(data);


    }

    function AddToCart(mri,qty){


        if(qty == null || qty == undefined){

             var qty = parseInt($('#counter-input').val());

        }

        if(qty == 0){

            Swal.fire({
                icon: 'warning',
                title: 'Lütfen üründen kaç adet eklemek istediğinizi seçin.',
                timer: 2000,
                showCancelButton: false,
                showConfirmButton: false
            })
            $('#modalAddToCartProduct').remove();

            return;
        }
        $('#loader').removeClass('hidden');
        $('#add-complete-body').html('');
        $('#add-complete-body').append('<div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>');


        var data = '{"mri":"' + mri + '","qty":"' + qty + '"}';


        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {

            if (this.readyState == 4 && this.status == 200) {
                let response = JSON.parse(this.responseText);
                if(response['result'] == 1){

                    $('#add-complete-body').html('');
                    $('#add-complete-body').append(response['add_complete_modal']);

                    $('#loader').addClass('hidden');
                    toastr.success('Ürün başarıyla sepetinize eklendi.');

                    $('#shopping-cart-desktop').html('');
                    $('#shopping-cart-desktop').append(response['shopping_cart']);

                    document.getElementById("counter-input").value = response['qty'];

                    $('#quick-view-body').html('');
                    $('#quick-view-body').append(response['quick_view_modal']);

                    $( "#shopping-cart-table" ).load(window.location.href + " #shopping-cart-table" );
                    $( "#shopping-cart-totals" ).load(window.location.href + " #shopping-cart-totals" );


                }else{
                    $('#loader').addClass("hidden");
                    Swal.fire(response['msg']);
                }
            } else if (this.status >= 400 && this.status < 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass("hidden");
                Swal.fire(response['msg']);
            } else if (this.status >= 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass('hidden');
                Swal.fire(response['msg']);

            }
            xhttp.onerror = function onError(e) {

                alert('con error:'+e);
            }
        };

        xhttp.open("POST", "/api/add-to-cart", true);
        xhttp.setRequestHeader("Content-Type", "application/json");
        xhttp.send(data);


    }

    function AddToCartInput(mri){

        var qty = parseInt($('#counter-input').val());

        if(qty > 1000){

            Swal.fire({
                icon: 'warning',
                title: 'Bu üründen en fazla 1000 adet ekleyebilirsiniz.',
                timer: 2000,
                showCancelButton: false,
                showConfirmButton: false
            })
            $('#modalAddToCartProduct').remove();

            return;
        }


        if(qty == 0){

            Swal.fire({
                icon: 'warning',
                title: 'Lütfen üründen kaç adet eklemek istediğinizi seçin.',
                timer: 2000,
                showCancelButton: false,
                showConfirmButton: false
            })
            $('#modalAddToCartProduct').remove();

            return;
        }
        $('#loader').removeClass('hidden');
        $('#add-complete-body').html('');
        $('#add-complete-body').append('<div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>');


        var data = '{"mri":"' + mri + '","qty":"' + qty +'"}';


        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {

            if (this.readyState == 4 && this.status == 200) {
                let response = JSON.parse(this.responseText);

                if(response['result'] == 1){

                    $('#add-complete-body').html('');
                    $('#add-complete-body').append(response['add_complete_modal']);

                    $('#loader').addClass('hidden');
                    toastr.success('Ürün başarıyla sepetinize eklendi.');

                    $('#shopping-cart-desktop').html('');
                    $('#shopping-cart-desktop').append(response['shopping_cart']);

                    document.getElementById("counter-input").value = response['qty'];

                    $('#quick-view-body').html('');
                    $('#quick-view-body').append(response['quick_view_modal']);

                    $( "#shopping-cart-table" ).load(window.location.href + " #shopping-cart-table" );
                    $( "#shopping-cart-totals" ).load(window.location.href + " #shopping-cart-totals" );


                }else{
                    Swal.fire(response['msg']);
                }
            } else if (this.status >= 400 && this.status < 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass("hidden");
                Swal.fire(response['msg']);
            } else if (this.status >= 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass('hidden');
                Swal.fire(response['msg']);

            }
            xhttp.onerror = function onError(e) {

                alert('con error:'+e);
            }
        };

        xhttp.open("POST", "/api/add-to-cart-input", true);
        xhttp.setRequestHeader("Content-Type", "application/json");
        xhttp.send(data);


    }

    function DeleteItem(model_record_id){

        $('#loader').removeClass('hidden');

        var data = '{"model_record_id":"' + model_record_id + '"}';

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {

            if (this.readyState == 4 && this.status == 200) {

                let response = JSON.parse(this.responseText);

                if(response['result'] == 1){

                    $('#loader').addClass('hidden');
                    toastr.error('Ürün başarıyla silindi.');

                    $('#shopping-cart-desktop').html('');
                    $('#shopping-cart-desktop').append(response['shopping_cart']);

                    document.getElementById("counter-input").value = response['qty'];
                    $('#quick-view-body').html('');
                    $('#quick-view-body').append(response['quick_view_modal']);

                    if(response['empty_cart'] == true){
                        $( "#shopping-cart-page" ).load(window.location.href + " #shopping-cart-page" );
                    }else{

                        $( "#shopping-cart-table" ).load(window.location.href + " #shopping-cart-table" );
                        $( "#shopping-cart-totals" ).load(window.location.href + " #shopping-cart-totals" );
                    }


                }else{
                    $('#loader').addClass('hidden');
                    Swal.fire(response['msg']);
                }
            } else if (this.status >= 400 && this.status < 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass("hidden");
                Swal.fire(response['msg']);
            } else if (this.status >= 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass('hidden');
                Swal.fire(response['msg']);

            }
            xhttp.onerror = function onError(e) {

                alert('con error:'+e);
            }
        };

        xhttp.open("POST", "/api/delete-item", true);
        xhttp.setRequestHeader("Content-Type", "application/json");
        xhttp.send(data);

    }

    function DeleteItemsModal(model_record_id){

        $("#delete-item").attr("onclick","DeleteItems('"+model_record_id+"')");
        $('#delete-item-modal-text').text("Ürünü silmek istediğinize emin misiniz?");
    }

    function DeleteItems(model_record_id){

        $('#loader').removeClass('hidden');

        var data = '{"model_record_id":"' + model_record_id + '"}';

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {

            if (this.readyState == 4 && this.status == 200) {

                let response = JSON.parse(this.responseText);

                $("#close-delete-modal").click();
                $('#loader').addClass("hidden");
                if(response['result'] == 1){

                    toastr.error(response['msg']);

                    $('#shopping-cart-desktop').html('');
                    $('#shopping-cart-desktop').append(response['shopping_cart']);

                    $( "#product-detail" ).load(window.location.href + " #product-detail" );

                    if(response['empty_cart'] == true){
                        $( "#shopping-cart-page" ).load(window.location.href + " #shopping-cart-page" );
                    }else{

                        $( "#shopping-cart-table" ).load(window.location.href + " #shopping-cart-table" );
                        $( "#shopping-cart-totals" ).load(window.location.href + " #shopping-cart-totals" );
                    }


                }else{
                    Swal.fire(response['msg']);
                }
            } else if (this.status >= 400 && this.status < 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass("hidden");
                Swal.fire(response['msg']);
            } else if (this.status >= 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass('hidden');
                Swal.fire(response['msg']);

            }
            xhttp.onerror = function onError(e) {

                alert('con error:'+e);
            }
        };

        xhttp.open("POST", "/api/delete-items", true);
        xhttp.setRequestHeader("Content-Type", "application/json");
        xhttp.send(data);

    }

    function QuickView(code){
        $('#quick-view-body').html('');
        $('#quick-view-body').append('<div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>');

       // var data = '{"code":"' + code + '"}';

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {

            if (this.readyState == 4 && this.status == 200) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass("hidden");
                if(response['result'] == 1){

                    $('#quick-view-body').html('');
                    $('#quick-view-body').append(response['modal']);

                }else{
                    Swal.fire(response['msg']);
                }
            } else if (this.status >= 400 && this.status < 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass("hidden");
                Swal.fire(response['msg']);
            } else if (this.status >= 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass('hidden');
                Swal.fire(response['msg']);

            }
            xhttp.onerror = function onError(e) {

                alert('con error:'+e);
            }
        };

        xhttp.open("GET", "/api/quick-view/"+code+"", true);
        xhttp.setRequestHeader("Content-Type", "application/json");
        xhttp.send();

    }

    function AddToFav(model_record_id,key){

        $('#loader').removeClass('hidden');

        var data = '{"model_record_id":"' + model_record_id + '"}';

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {

            if (this.readyState == 4 && this.status == 200) {
                let response = JSON.parse(this.responseText);
                if(response['result'] == 1){

                    $('#loader').addClass('hidden');

                    $('#wishlist-list').html('');
                    $('#wishlist-list').append(response['fav_div']);
                    $( "#fav-btn-"+key+"" ).addClass("fav");
                    $( "#fav-btn-"+key+"-hm" ).addClass("fav");
                    $( "#fav-btn-qw" ).addClass("fav");
                    document.getElementById("add-wish-text").innerText = response['fav_txt'];

                }else if(response['result'] == 2){

                    $('#loader').addClass('hidden');

                    $('#wishlist-list').html('');
                    $('#wishlist-list').append(response['fav_div']);
                    $( "#fav-btn-"+key+"" ).removeClass("fav");
                    $( "#fav-btn-"+key+"-hm" ).removeClass("fav");
                    $( "#fav-btn-qw" ).removeClass("fav");
                    document.getElementById("add-wish-text").innerText = response['fav_txt'];

                }else{
                    Swal.fire(response['msg']);
                }
            } else if (this.status >= 400 && this.status < 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass("hidden");
                Swal.fire(response['msg']);
            } else if (this.status >= 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass('hidden');
                Swal.fire(response['msg']);

            }
            xhttp.onerror = function onError(e) {

                alert('con error:'+e);
            }
        };

        xhttp.open("POST", "/api/add-to-fav", true);
        xhttp.setRequestHeader("Content-Type", "application/json");
        xhttp.send(data);
    }

    function GetModel(mri,key){

        $('#loader').removeClass('hidden');
        var test = document.getElementsByClassName('wishlist-btn');

        var data = '{"mri":"' + mri + '"}';

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {

            if (this.readyState == 4 && this.status == 200) {

                let response = JSON.parse(this.responseText);

                if(response['result'] == 1){



                    $('#loader').addClass('hidden');
                    document.getElementById("prd-cm").innerText = response['prd-cm'];
                    $('#image-part').text('');
                    $('#image-part').append(response['product_image_div']);
                    $('#image-part-mobile').text('');
                    $('#image-part-mobile').append(response['product_image_mobile_div']);
                    document.getElementById("prd-pr").innerText = response['prd-pr'];
                    document.getElementById("prd-nm").innerText = response['prd-nm'];
                    document.getElementById("counter-input").value = response['qty'];
                    document.getElementById("pd-add-btn").setAttribute('onclick',"AddToCartInput('"+response['enc-mri']+"')");
                    document.getElementById("pd-delete-btn").setAttribute('onclick',"DeleteItem('"+response['enc-mri']+"',1)");
                    document.getElementById("add-wish-text").innerText = response['fav_txt'];
                    document.getElementById(""+test[0].id+"").id = "fav-btn-"+key;
                    document.getElementById(""+test[0].id+"").setAttribute('onclick',"AddToFav('"+response['enc-mri']+"'," + key + ")");
                    if(response['fav'] != ""){
                        $('#'+test[0].id).addClass(''+response['fav']+'') ;
                    }else{
                        $('#'+test[0].id).removeClass('fav') ;
                    }

                    //  Swal.fire(response['msg']);


                }else{
                    $('#loader').addClass('hidden');
                    Swal.fire(response['msg']);
                }
            } else if (this.status >= 400 && this.status < 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass("hidden");
                Swal.fire(response['msg']);
            } else if (this.status >= 500) {
                let response = JSON.parse(this.responseText);
                $('#loader').addClass('hidden');
                Swal.fire(response['msg']);

            }
            xhttp.onerror = function onError(e) {

                alert('con error:'+e);
            }
        };

        xhttp.open("POST", "/api/get-product-model", true);
        xhttp.setRequestHeader("Content-Type", "application/json");
        xhttp.send(data);
    }




</script>



</body>
</html>
